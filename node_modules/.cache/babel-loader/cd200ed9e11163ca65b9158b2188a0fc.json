{"ast":null,"code":"import _classCallCheck from\"/Users/beomgeunshin/Desktop/TOY_PROJECT/com.goowoo.www/ReactPJ/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/beomgeunshin/Desktop/TOY_PROJECT/com.goowoo.www/ReactPJ/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/beomgeunshin/Desktop/TOY_PROJECT/com.goowoo.www/ReactPJ/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/beomgeunshin/Desktop/TOY_PROJECT/com.goowoo.www/ReactPJ/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/beomgeunshin/Desktop/TOY_PROJECT/com.goowoo.www/ReactPJ/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Slider from\"react-slick\";import Loading from'../../common/Loading';var GoodsViewReviewList=/*#__PURE__*/function(_Component){_inherits(GoodsViewReviewList,_Component);function GoodsViewReviewList(){var _getPrototypeOf2;var _this;_classCallCheck(this,GoodsViewReviewList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(GoodsViewReviewList)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.popupSliderDom=null;_this.sliderDom=null;_this.state={starTag:[],pageNum:0};_this.drawStarTag=function(){var list=_this.props.list;var fullStar=list.star;var startTagArray=[];for(var i=0;i<5;i++){if(i<fullStar){startTagArray.push(React.createElement(\"i\",{className:\"icon-star_full\",key:i}));}else{startTagArray.push(React.createElement(\"i\",{className:\"icon-star_empty\",key:i}));}}_this.setState({starTag:startTagArray});};_this.openImagesSlider=function(e){var dimDom=_this.props.dimDom;//팝업 열기\n_this.popupSliderDom.classList.add('on');dimDom.classList.add('on');//팝업 DOM 리덕스에 전달\nvar _this$props=_this.props,updatePopupDom=_this$props.updatePopupDom,updateSliderDom=_this$props.updateSliderDom;updatePopupDom(_this.popupSliderDom);updateSliderDom(_this.sliderDom);//특정 페이지로 열기\nvar sliderPage=e.target.parentElement.dataset.page;_this.setState({pageNum:sliderPage});// this.sliderDom.slickGoTo(0);\n};return _this;}_createClass(GoodsViewReviewList,[{key:\"componentDidMount\",value:function componentDidMount(){this.drawStarTag();}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,starTag=_this$state.starTag,pageNum=_this$state.pageNum;var list=this.props.list;var imageWrappers=list.imgs.map(function(val,index){return React.createElement(\"div\",{className:\"goodsview__review-row-img-wrapper\",key:index,\"data-page\":index},React.createElement(\"img\",{alt:\"reviewImg\",src:require(\"../../../assets/images/board/review/\".concat(val)),onClick:_this2.openImagesSlider}));});var images=list.imgs.map(function(val,index){return React.createElement(\"img\",{alt:\"reviewImg\",src:require(\"../../../assets/images/board/review/\".concat(val)),key:index});});images.unshift(images[pageNum]);images=images.filter(function(val,index){if(index!==0&&val.key===pageNum){return false;}else{return true;}});console.log('imgages',images);var settings={dots:true,infinite:true,speed:500,slidesToShow:1,slidesToScroll:1,arrows:true,autoplay:false};return React.createElement(\"div\",{className:\"goodsview__review-row\"},React.createElement(\"div\",{className:\"goodsview__review-row-star\"},starTag),React.createElement(\"div\",{className:\"goodsview__review-row-article\"},list.article),React.createElement(\"div\",{className:\"goodsview__review-row-imgs\"},imageWrappers),React.createElement(\"div\",{className:\"goodsview__review-row-date\"},React.createElement(\"div\",{className:\"goodsview__review-date-id\"},React.createElement(\"div\",null,list.date),React.createElement(\"div\",null,list.wrtier)),React.createElement(\"div\",{className:\"goodsview__review-reply-like\"},React.createElement(\"div\",{className:\"goodsview__review-reply\"},React.createElement(\"i\",{className:\"icon-message\"}),\"0\"),React.createElement(\"div\",{className:\"goodsview__review-like\"},React.createElement(\"i\",{className:\"icon-thumb\"}),\"0\"))),React.createElement(\"div\",{className:\"goodsview__review-imgs-popup\",ref:function ref(_ref){_this2.popupSliderDom=_ref;}},React.createElement(Slider,Object.assign({},settings,{ref:function ref(sliderDom){_this2.sliderDom=sliderDom;}}),images)));}}]);return GoodsViewReviewList;}(Component);export default GoodsViewReviewList;","map":{"version":3,"sources":["/Users/beomgeunshin/Desktop/TOY_PROJECT/com.goowoo.www/ReactPJ/src/components/pages/goodsview/GoodsViewReviewList.js"],"names":["React","Component","Slider","Loading","GoodsViewReviewList","popupSliderDom","sliderDom","state","starTag","pageNum","drawStarTag","list","props","fullStar","star","startTagArray","i","push","setState","openImagesSlider","e","dimDom","classList","add","updatePopupDom","updateSliderDom","sliderPage","target","parentElement","dataset","page","imageWrappers","imgs","map","val","index","require","images","unshift","filter","key","console","log","settings","dots","infinite","speed","slidesToShow","slidesToScroll","arrows","autoplay","article","date","wrtier","ref"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Slider from \"react-slick\";\nimport Loading from '../../common/Loading';\n\nclass GoodsViewReviewList extends Component{\n\n    popupSliderDom = null;\n    sliderDom = null;\n\n    state = {\n        starTag : [],\n        pageNum: 0\n    }\n\n\n    drawStarTag = () =>{\n        const {list} = this.props;\n        const fullStar = list.star;\n        let startTagArray = [];\n\n        for(let i=0; i<5; i++){\n            if(i < fullStar){\n                startTagArray.push(<i className=\"icon-star_full\" key={i}></i>);\n            }else{\n                startTagArray.push(<i className=\"icon-star_empty\" key={i}></i>);\n            }   \n        }\n        this.setState({\n            starTag: startTagArray\n        })\n    }\n\n    openImagesSlider = (e) =>{\n        const {dimDom} = this.props;\n\n        //팝업 열기\n        this.popupSliderDom.classList.add('on');\n        \n        dimDom.classList.add('on');\n\n        //팝업 DOM 리덕스에 전달\n        const {updatePopupDom, updateSliderDom} = this.props;\n        updatePopupDom(this.popupSliderDom);\n        updateSliderDom(this.sliderDom);\n    \n        //특정 페이지로 열기\n        let sliderPage = e.target.parentElement.dataset.page;\n        this.setState({\n            pageNum: sliderPage\n        });\n\n        // this.sliderDom.slickGoTo(0);\n\n    }\n\n    componentDidMount(){\n        this.drawStarTag();\n    }\n\n    render(){\n        const {starTag, pageNum} = this.state;\n        const {list} = this.props;\n\n\n        const imageWrappers = list.imgs.map((val, index) => {\n            return (\n                <div className=\"goodsview__review-row-img-wrapper\" key={index} data-page={index}>\n                    <img alt=\"reviewImg\" src={require(`../../../assets/images/board/review/${val}`)} onClick={this.openImagesSlider} />\n                </div>\n            );\n        });\n\n    \n        let images = list.imgs.map((val, index) =>{\n            return(\n                <img alt=\"reviewImg\" src={require(`../../../assets/images/board/review/${val}`)} key={index} />\n            );\n        });\n\n        images.unshift(images[pageNum]);\n        images = images.filter((val, index) =>{\n            if(index !== 0 && val.key === pageNum){\n                return false;\n            }else{\n                return true;\n            }\n        });\n\n\n        console.log('imgages', images);\n\n\n        const settings = {\n            dots: true,\n            infinite: true,\n            speed: 500,\n            slidesToShow: 1,\n            slidesToScroll: 1,\n            arrows: true,\n            autoplay: false\n        };\n\n        return(\n            <div className=\"goodsview__review-row\">\n                {/* 별점 */}\n                <div className=\"goodsview__review-row-star\">\n                    {starTag}\n                </div>\n                {/* 내용 */}\n                <div className=\"goodsview__review-row-article\">\n                    {list.article}\n                </div>\n                {/* 이미지 */}\n                <div className=\"goodsview__review-row-imgs\">\n                    {imageWrappers}\n                </div>\n                {/* 날짜, 댓글 추천 */}\n                <div className=\"goodsview__review-row-date\">\n                    <div className=\"goodsview__review-date-id\">\n                        <div>{list.date}</div>\n                        <div>{list.wrtier}</div>\n                    </div>\n                    <div className=\"goodsview__review-reply-like\">\n                        <div className=\"goodsview__review-reply\">\n                            <i className=\"icon-message\"></i>0\n                        </div>\n                        <div className=\"goodsview__review-like\">\n                            <i className=\"icon-thumb\"></i>0\n                        </div>\n                    </div>\n                </div>\n                {/* 이미지 슬라이더 실행 */}\n                <div className=\"goodsview__review-imgs-popup\" ref={ref=>{this.popupSliderDom = ref}}>\n                    <Slider {...settings} ref={sliderDom =>{this.sliderDom = sliderDom}}>\n                        {images}\n                    </Slider>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default GoodsViewReviewList;"]},"metadata":{},"sourceType":"module"}