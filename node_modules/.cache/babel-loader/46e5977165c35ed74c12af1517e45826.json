{"ast":null,"code":"var _jsxFileName = \"/Users/beomgeunshin/Desktop/TOY_PROJECT/com.goowoo.www/ReactPJ/src/components/pages/goodsview/GoodsViewReviewList.js\";\nimport React, { Component } from 'react';\nimport Slider from \"react-slick\";\nimport Loading from '../../common/Loading';\n\nclass GoodsViewReviewList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.popupSliderDom = null;\n    this.sliderDom = null;\n    this.state = {\n      starTag: [],\n      pageNum: 0\n    };\n\n    this.drawStarTag = () => {\n      const {\n        list\n      } = this.props;\n      const fullStar = list.star;\n      let startTagArray = [];\n\n      for (let i = 0; i < 5; i++) {\n        if (i < fullStar) {\n          startTagArray.push(React.createElement(\"i\", {\n            className: \"icon-star_full\",\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 23\n            },\n            __self: this\n          }));\n        } else {\n          startTagArray.push(React.createElement(\"i\", {\n            className: \"icon-star_empty\",\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 25\n            },\n            __self: this\n          }));\n        }\n      }\n\n      this.setState({\n        starTag: startTagArray\n      });\n    };\n\n    this.openImagesSlider = e => {\n      const {\n        dimDom\n      } = this.props; //팝업 열기\n\n      this.popupSliderDom.classList.add('on');\n      dimDom.classList.add('on'); //팝업 DOM 리덕스에 전달\n\n      const {\n        updatePopupDom,\n        updateSliderDom\n      } = this.props;\n      updatePopupDom(this.popupSliderDom);\n      updateSliderDom(this.sliderDom); //특정 페이지로 열기\n\n      let sliderPage = e.target.parentElement.dataset.page;\n      this.setState({\n        pageNum: sliderPage\n      }); // this.sliderDom.slickGoTo(0);\n    };\n  }\n\n  componentDidMount() {\n    this.drawStarTag();\n  }\n\n  render() {\n    const {\n      starTag,\n      pageNum\n    } = this.state;\n    const {\n      list\n    } = this.props;\n    const imageWrappers = list.imgs.map((val, index) => {\n      return React.createElement(\"div\", {\n        className: \"goodsview__review-row-img-wrapper\",\n        key: index,\n        \"data-page\": index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"reviewImg\",\n        src: require(`../../../assets/images/board/review/${val}`),\n        onClick: this.openImagesSlider,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }));\n    });\n    let images = list.imgs.map((val, index) => {\n      return React.createElement(\"img\", {\n        alt: \"reviewImg\",\n        src: require(`../../../assets/images/board/review/${val}`),\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      });\n    });\n    images.unshift(images[pageNum]);\n    images = images.filter((val, index) => {\n      if (index !== 0 && val.key === pageNum) {\n        return false;\n      } else {\n        return true;\n      }\n    });\n    console.log('imgages', images);\n    const settings = {\n      dots: true,\n      infinite: true,\n      speed: 500,\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      arrows: true,\n      autoplay: false\n    };\n    return React.createElement(\"div\", {\n      className: \"goodsview__review-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"goodsview__review-row-star\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, starTag), React.createElement(\"div\", {\n      className: \"goodsview__review-row-article\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, list.article), React.createElement(\"div\", {\n      className: \"goodsview__review-row-imgs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, imageWrappers), React.createElement(\"div\", {\n      className: \"goodsview__review-row-date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"goodsview__review-date-id\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, list.date), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, list.wrtier)), React.createElement(\"div\", {\n      className: \"goodsview__review-reply-like\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"goodsview__review-reply\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"icon-message\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), \"0\"), React.createElement(\"div\", {\n      className: \"goodsview__review-like\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"icon-thumb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), \"0\"))), React.createElement(\"div\", {\n      className: \"goodsview__review-imgs-popup\",\n      ref: ref => {\n        this.popupSliderDom = ref;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(Slider, Object.assign({}, settings, {\n      ref: sliderDom => {\n        this.sliderDom = sliderDom;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), images)));\n  }\n\n}\n\nexport default GoodsViewReviewList;","map":{"version":3,"sources":["/Users/beomgeunshin/Desktop/TOY_PROJECT/com.goowoo.www/ReactPJ/src/components/pages/goodsview/GoodsViewReviewList.js"],"names":["React","Component","Slider","Loading","GoodsViewReviewList","popupSliderDom","sliderDom","state","starTag","pageNum","drawStarTag","list","props","fullStar","star","startTagArray","i","push","setState","openImagesSlider","e","dimDom","classList","add","updatePopupDom","updateSliderDom","sliderPage","target","parentElement","dataset","page","componentDidMount","render","imageWrappers","imgs","map","val","index","require","images","unshift","filter","key","console","log","settings","dots","infinite","speed","slidesToShow","slidesToScroll","arrows","autoplay","article","date","wrtier","ref"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Slider from \"react-slick\";\nimport Loading from '../../common/Loading';\n\nclass GoodsViewReviewList extends Component{\n\n    popupSliderDom = null;\n    sliderDom = null;\n\n    state = {\n        starTag : [],\n        pageNum: 0\n    }\n\n\n    drawStarTag = () =>{\n        const {list} = this.props;\n        const fullStar = list.star;\n        let startTagArray = [];\n\n        for(let i=0; i<5; i++){\n            if(i < fullStar){\n                startTagArray.push(<i className=\"icon-star_full\" key={i}></i>);\n            }else{\n                startTagArray.push(<i className=\"icon-star_empty\" key={i}></i>);\n            }   \n        }\n        this.setState({\n            starTag: startTagArray\n        })\n    }\n\n    openImagesSlider = (e) =>{\n        const {dimDom} = this.props;\n\n        //팝업 열기\n        this.popupSliderDom.classList.add('on');\n        \n        dimDom.classList.add('on');\n\n        //팝업 DOM 리덕스에 전달\n        const {updatePopupDom, updateSliderDom} = this.props;\n        updatePopupDom(this.popupSliderDom);\n        updateSliderDom(this.sliderDom);\n    \n        //특정 페이지로 열기\n        let sliderPage = e.target.parentElement.dataset.page;\n        this.setState({\n            pageNum: sliderPage\n        });\n\n        // this.sliderDom.slickGoTo(0);\n\n    }\n\n    componentDidMount(){\n        this.drawStarTag();\n    }\n\n    render(){\n        const {starTag, pageNum} = this.state;\n        const {list} = this.props;\n\n\n        const imageWrappers = list.imgs.map((val, index) => {\n            return (\n                <div className=\"goodsview__review-row-img-wrapper\" key={index} data-page={index}>\n                    <img alt=\"reviewImg\" src={require(`../../../assets/images/board/review/${val}`)} onClick={this.openImagesSlider} />\n                </div>\n            );\n        });\n\n    \n        let images = list.imgs.map((val, index) =>{\n            return(\n                <img alt=\"reviewImg\" src={require(`../../../assets/images/board/review/${val}`)} key={index} />\n            );\n        });\n\n        images.unshift(images[pageNum]);\n        images = images.filter((val, index) =>{\n            if(index !== 0 && val.key === pageNum){\n                return false;\n            }else{\n                return true;\n            }\n        });\n\n\n        console.log('imgages', images);\n\n\n        const settings = {\n            dots: true,\n            infinite: true,\n            speed: 500,\n            slidesToShow: 1,\n            slidesToScroll: 1,\n            arrows: true,\n            autoplay: false\n        };\n\n        return(\n            <div className=\"goodsview__review-row\">\n                {/* 별점 */}\n                <div className=\"goodsview__review-row-star\">\n                    {starTag}\n                </div>\n                {/* 내용 */}\n                <div className=\"goodsview__review-row-article\">\n                    {list.article}\n                </div>\n                {/* 이미지 */}\n                <div className=\"goodsview__review-row-imgs\">\n                    {imageWrappers}\n                </div>\n                {/* 날짜, 댓글 추천 */}\n                <div className=\"goodsview__review-row-date\">\n                    <div className=\"goodsview__review-date-id\">\n                        <div>{list.date}</div>\n                        <div>{list.wrtier}</div>\n                    </div>\n                    <div className=\"goodsview__review-reply-like\">\n                        <div className=\"goodsview__review-reply\">\n                            <i className=\"icon-message\"></i>0\n                        </div>\n                        <div className=\"goodsview__review-like\">\n                            <i className=\"icon-thumb\"></i>0\n                        </div>\n                    </div>\n                </div>\n                {/* 이미지 슬라이더 실행 */}\n                <div className=\"goodsview__review-imgs-popup\" ref={ref=>{this.popupSliderDom = ref}}>\n                    <Slider {...settings} ref={sliderDom =>{this.sliderDom = sliderDom}}>\n                        {images}\n                    </Slider>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default GoodsViewReviewList;"]},"metadata":{},"sourceType":"module"}